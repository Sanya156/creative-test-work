{"version":3,"sources":["components/Flats/Card.js","components/Flats/List.js","App.js","index.js"],"names":["Card","handleLikeClick","bind","item","this","props","className","src","alt","attributes","title","rooms","area","unit","address","city","street","house","relationships","type","href","last_name","first_name","classNames","onClick","width","height","viewBox","fill","xmlns","fillRule","d","updateCard","id","like","Component","List","state","isLoading","list","map","key","getData","then","data","setState","response","Promise","res","rej","setTimeout","path","value","idx","findIndex","el","newValue","sendData","slice","Object","assign","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59552906.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport classNames from 'classnames';\n\nclass Card extends Component {\n  constructor() {\n    super();\n    this.handleLikeClick = this.handleLikeClick.bind(this);\n  }\n  render() {\n    let {item} = this.props;\n\n    return (\n      <div className=\"flatList__col col-lg-4 col-md-6 col-12 mb-4\">\n        <div className=\"flatCard card\">\n          <img className=\"card-img-top img-fluid\" src=\"http://placehold.it/500x200\" alt=\"Plug\" />\n        <div className=\"card-body\">\n          <div className=\"card-title h5 flatCard__title\">{item.attributes.title}</div>\n          <dl className=\"row\">\n            <dt className=\"col-sm-4\">Комнат</dt>\n            <dd className=\"col-sm-8\">{item.attributes.rooms}</dd>\n            <dt className=\"col-sm-4\">Площадь</dt>\n            <dd className=\"col-sm-8\">{`${item.attributes.area} ${item.attributes.unit}`}</dd>\n            <dt className=\"col-sm-4\">Адрес</dt>\n            <dd className=\"col-sm-8\">{`${item.attributes.address.city}, ${item.attributes.address.street}, ${item.attributes.address.house}`}</dd>\n          </dl>\n          <div className=\"flatCard__address\"></div>\n          <div className=\"\">\n            {item.relationships.type === \"agent\" ? \"Агент: \": \"\"}\n            <a href=\"#\">{`${item.relationships.attributes.last_name} ${item.relationships.attributes.first_name}`}</a>\n          </div>\n        </div>\n        <div className=\"card-footer text-right\">\n          <button className = {classNames({\n              \"btn\" : true,\n              \"btn-link\" : true,\n              \"flatCard__like\" : true, \n              \"flatCard__like--liked\" : item['like']\n            })} onClick={this.handleLikeClick}>\n              <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"flatCard__like__icon\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" d=\n                {classNames({\n                  \"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\" : !item['like'], \n                  \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\" : item['like']\n                })}\n                />\n              </svg>\n            </button>\n        </div>\n      </div>\n      </div>\n    )\n  }\n  handleLikeClick() {\n    let {item, updateCard} = this.props;\n    updateCard(item.id, 'like', !item.like);\n  }\n  \n}\n\nexport default Card;","import React, {Component} from 'react';\nimport Card from './Card';\nimport data from \"../../data/entities.json\";\nimport './Cards.scss';\n\nclass List extends Component {\n  constructor(props) {\n    super();\n    this.state = { \n      isLoading : true,\n      list : null,\n    };\n    this.updateCard = this.updateCard.bind(this);\n  }\n  render() {\n    const { isLoading, list } = this.state;\n \n    if (isLoading) {\n      return <p>Данные загружаются</p>;\n    }\n    return (\n      <div className=\"flatsList row\">\n        {list.map(item =>\n          <Card key={item.id} item={item} updateCard={this.updateCard} />\n        )}\n      </div>\n    );\n  }\n  componentDidMount() {\n    this.getData()\n      .then(data => {\n        this.setState({\n          isLoading: false,\n          list: data.response\n        });\n      })\n  }\n  getData() {\n    return new Promise((res, rej)=>{\n      setTimeout(() => {\n        res(data);\n      }, 1000);\n    })\n  }\n  sendData(id, path, value) {\n    return new Promise((res, rej)=>{\n      setTimeout(() => res({res: 1}), 100);\n    })\n  }\n  updateCard(id, path, value) {\n    const idx = this.state.list.findIndex(el => el.id === id);\n    const newValue = {};\n    newValue[path] = value;\n\n    this.sendData(id, path, value)\n      .then(res => {\n        this.setState(state => {\n          const list = [\n            ...state.list.slice(0, idx),\n            Object.assign({}, this.state.list[idx], newValue),\n            ...state.list.slice(idx + 1)\n          ]\n          return {\n            list\n          }\n        })\n      })\n  }\n}\n\nexport default List;","import React from 'react';\nimport './App.scss';\nimport FlatsList from './components/Flats/List';\n\nfunction App() {\n  return (\n    <div className=\"App py-5\">\n        <section className=\"\">\n          <div className=\"container\">\n            <header className=\"h2 text-center mb-4\">Квартиры</header>\n            <FlatsList />\n          </div>\n        </section>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}